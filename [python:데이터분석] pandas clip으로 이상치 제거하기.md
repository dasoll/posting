<!-- [python/데이터분석] pandas clip으로 이상치 제거하기 -->
## 이상치(outlier)란 무엇인가?
데이터분석에서 이상치는 측정에서 문제가 있거나 극히 드문 특수한 경우의 데이터를 말합니다.  
이상치는 예측에 있어서 잘못된 결과를 불러올 수 있기 때문에 반드시 확인해야 합니다.

## 이상치 제거
이상치가 있다고 반드시 제거해야하는 것은 아니지만, 보편적으로 제거해주면 성능 향상에 도움이 됩니다.  
이상치를 제거하는 방법은 여러가지가 있지만 오늘은 ***clip***을 통한 제거 방법을 알아보겠습니다.

## clip
pandas library의 clip 메소드는 위, 혹은 아래의 기준치를 넘어가는 데이터를 잘라냅니다.  
<br>

```python
data = {'col_0': [9, -3, 0, -1, 5], 'col_1': [-2, -7, 6, 8, -5]}
df = pd.DataFrame(data)
#    col_0  col_1
# 0      9     -2
# 1     -3     -7
# 2      0      6
# 3     -1      8
# 4      5     -5
```
<br>

```python
df.clip(-4, 6)
#    col_0  col_1
# 0      6     -2
# 1     -3     -4
# 2      0      6
# 3     -1      6
# 4      5     -4
```
이처럼 위, 아래 기준을 정해주면 기준을 넘어가는 데이터를 ***min, max***에 맞추어 잘라내게 됩니다.

## 사용 예시
~~~python
quantile_05 = df['col_0'].quantile(0.05) 
quantile_95 = df['col_0'].quantile(0.95) 

df['col_0'] = df['col_0'].clip(quantile_05, quantile_95)
~~~
<br>

위와 같이 quantile 함수와 함께 사용하면 이상치를 쉽게 제거할 수 있습니다.  
drop하여 이상치를 제거하는 방법도 있지만 clip을 사용하면 나머지 컬럼의 특성을 살릴 수 있다는 장점이 있습니다.